{"version":3,"file":"static/js/973.36d430e2.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/outline/esm/CalendarIcon.js","../node_modules/@heroicons/react/outline/esm/ChevronRightIcon.js","components/inspection/InspectionItem.jsx","components/inspection/InspectionList.jsx","pages/index.jsx"],"sourcesContent":["import * as React from \"react\";\n\nfunction CalendarIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(CalendarIcon);\nexport default ForwardRef;","import * as React from \"react\";\n\nfunction ChevronRightIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 5l7 7-7 7\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ChevronRightIcon);\nexport default ForwardRef;","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { CalendarIcon, ChevronRightIcon } from '@heroicons/react/outline'\n\nfunction InspectionItem({ inspection }) {\n  return (\n    <Link\n      className=\"\n        relative\n        block\n        p-4\n        border-b\n        border-gray-300\n        dark:border-gray-700\n        hover:bg-gray-50\n        dark:hover:bg-gray-900\n        cursor-pointer\n      \"\n      to={`/${inspection.slug}`}\n    >\n      <h3\n        className=\"text-lg mb-2 dark:text-gray-300 font-medium\"\n      >\n        {inspection.regis_mark}\n      </h3>\n      <p className=\"dark:text-gray-300 text-sm\">\n        Aircraft Model:\n        {' '}\n        {inspection.aircraft_model}\n        <br />\n        Operator:\n        {' '}\n        { inspection.operator }\n      </p>\n      <p\n        className=\"\n          mt-2\n          text-gray-600\n          dark:text-gray-500\n          text-sm\n          flex\n        \"\n      >\n        <span className=\"mr-2\">\n          <CalendarIcon className=\"w-5 h-5\" />\n        </span>\n        <span>\n          { new Date(inspection.date).toLocaleDateString() }\n          {' '}\n          {inspection.time}\n        </span>\n      </p>\n      <span className=\"\n        absolute\n        top-10\n        right-3\n      \"\n      >\n        <ChevronRightIcon className=\"w-5 h-5 text-gray-600\" />\n      </span>\n      {/* <span\n        className=\"absolute\n        rounded bg-brand-600\n        text-white top-3 right-3\n        text-xs px-2 py-1\"\n      >\n        2 remarks\n      </span> */}\n    </Link>\n  )\n}\nInspectionItem.propTypes = {\n  inspection: PropTypes.oneOfType([PropTypes.object]).isRequired,\n}\nexport default InspectionItem\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport InspectionItem from './InspectionItem'\n\nfunction InspectionList({ inspection }) {\n  return (\n    <div\n      className=\"\n        border-t\n        border-x\n        border-gray-300\n        dark:border-gray-700\n        rounded-lg\n        bg-white\n        dark:bg-gray-800\n      \"\n    >\n      {\n        inspection.map((e) => (\n          <InspectionItem\n            key={e.id_ramp}\n            inspection={e}\n          />\n        ))\n      }\n    </div>\n  )\n}\nInspectionList.propTypes = {\n  inspection: PropTypes.oneOfType([PropTypes.array]),\n}\nInspectionList.defaultProps = {\n  inspection: () => [],\n}\nexport default InspectionList\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport FloatingBtn from '../components/global/FloatingBtn'\nimport InspectionList from '../components/inspection/InspectionList'\nimport UserTemplate from '../template/UserTemplate'\nimport { setRampInspection } from '../store/ramp-inspection'\n\nfunction User() {\n  const dispatch = useDispatch()\n  // flag kalau sudah load ramp inspection\n  const [isLoadRampInspection, setIsLoadRampInspection] = useState(false)\n  // flag kalau sudah call api\n  const [isCallApiRamp, setIsCallApiRamp] = useState(false)\n  // indikator loading\n  const [isLoadingRamp, setIsLoadingRamp] = useState(false)\n\n  const dummy = useSelector((state) => state.auth.dummy)\n  const currentRole = useSelector((state) => state.auth.currentRole)\n\n  const inspection = useSelector((state) => state.rampInspection.rampInspection)\n  const [inspectionFiltered, setInspectionFiltered] = useState([])\n\n  const [filter, setFilter] = useState({})\n\n  const loadRamp = () => {\n    setIsLoadingRamp(true)\n    axios.get(`${axios.defaults.baseURL}/api/ramp`).then((res) => {\n      setIsLoadingRamp(false)\n      setIsLoadRampInspection(true)\n      if (res.data.status) {\n        dispatch(setRampInspection(res.data.data))\n      } else {\n        //\n      }\n    })\n      .catch((err) => {\n        setIsLoadingRamp(false)\n        setIsLoadRampInspection(true)\n        console.log(err)\n      })\n  }\n\n  const filterRampInspection = () => {\n    let filtered = inspection\n    if ('q' in filter && filter.q !== '') {\n      filtered = filtered.filter((e) => e.aircraft_model.toLowerCase().includes(filter.q)\n      || e.operator.toLowerCase().includes(filter.q))\n    }\n    setInspectionFiltered(filtered)\n  }\n\n  const handleSearch = (e) => {\n    const search = e.target.value\n    setFilter((values) => ({ ...values, q: search }))\n  }\n\n  useEffect(() => {\n    if (!dummy && !isLoadRampInspection && !isCallApiRamp) {\n      setIsCallApiRamp(true)\n      loadRamp()\n    }\n    if (\n      (!dummy && isLoadRampInspection)\n      || dummy\n    ) {\n      filterRampInspection()\n    }\n  })\n\n  return (\n    <UserTemplate>\n      <div className=\"px-4 pt-16 pb-40\">\n        {/* header */}\n        <div className=\"text-3xl text-gray-700 dark:text-gray-300 text-center\">\n          <h1>Ramp Inspection Checklist</h1>\n        </div>\n        {/* <div className=\"mt-8 p-4 bg-brand-100  border border-brand-200 rounded-lg\">\n          <div>\n            <span className=\"block mt-4\">Jumlah data</span>\n            <span\n              className=\"block font-medium text-brand-600\"\n            >\n              3\n            </span>\n          </div>\n\n        </div> */}\n\n        <div\n          className=\"mt-16\"\n        >\n          <input\n            type=\"text\"\n            placeholder=\"Search\"\n            className=\"t-form\"\n            value={filter.q || ''}\n            onChange={handleSearch}\n            required\n          />\n        </div>\n        <div\n          className=\"mt-4\"\n        >\n          {\n            (!isLoadingRamp) ? (\n              <InspectionList\n                inspection={inspectionFiltered}\n              />\n            ) : (\n              <div className=\"text-center dark:text-gray-300 text-sm\">\n                Loading...\n              </div>\n            )\n          }\n        </div>\n        {\n          (currentRole.abilities.split(',').includes('inspector')) ? (\n            <Link\n              to=\"/create\"\n              className=\"fixed z-100 bottom-24 right-4\"\n            >\n              <FloatingBtn />\n            </Link>\n          ) : ''\n        }\n      </div>\n    </UserTemplate>\n  )\n}\n\nexport default User\n"],"names":["React","props","svgRef","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d","inspection","className","to","slug","regis_mark","aircraft_model","operator","Date","date","toLocaleDateString","time","InspectionList","map","e","id_ramp","defaultProps","dispatch","useDispatch","useState","isLoadRampInspection","setIsLoadRampInspection","isCallApiRamp","setIsCallApiRamp","isLoadingRamp","setIsLoadingRamp","dummy","useSelector","state","auth","currentRole","rampInspection","inspectionFiltered","setInspectionFiltered","filter","setFilter","useEffect","axios","then","res","data","status","setRampInspection","catch","err","console","log","filtered","q","toLowerCase","includes","filterRampInspection","UserTemplate","type","placeholder","value","onChange","search","target","values","required","abilities","split","FloatingBtn"],"sourceRoot":""}